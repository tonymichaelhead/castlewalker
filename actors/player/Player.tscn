[gd_scene load_steps=12 format=2]

[ext_resource path="res://actors/Actor.tscn" type="PackedScene" id=1]
[ext_resource path="res://actors/player/state-machine.gd" type="Script" id=2]
[ext_resource path="res://actors/player/body.png" type="Texture" id=3]
[ext_resource path="res://actors/player/states/motion/on-ground/idle.gd" type="Script" id=4]
[ext_resource path="res://actors/player/states/motion/on-ground/move.gd" type="Script" id=5]
[ext_resource path="res://actors/player/states/motion/in-air/bump.gd" type="Script" id=6]
[ext_resource path="res://actors/player/states/motion/in-air/jump.gd" type="Script" id=7]
[ext_resource path="res://actors/player/states/combat/attack.gd" type="Script" id=8]
[ext_resource path="res://actors/player/states/combat/casting-fire.gd" type="Script" id=9]
[ext_resource path="res://actors/player/states/combat/stagger.gd" type="Script" id=10]
[ext_resource path="res://actors/player/states/die.gd" type="Script" id=11]

[node name="Player" index="0" groups=[
"actor",
] instance=ExtResource( 1 )]

scale = Vector2( 1.5, 1.5 )
script = ExtResource( 2 )

[node name="AnimationPlayer" parent="." index="0"]

playback_speed = 3.0

[node name="HitBox" parent="." index="4"]

editor/display_folded = true
position = Vector2( 1.49527, 3.26241 )

[node name="Pivot" parent="." index="5"]

editor/display_folded = true
_sections_unfolded = [ "Transform", "Visibility" ]

[node name="Body" parent="Pivot" index="0"]

texture = ExtResource( 3 )
frame = 8

[node name="WeaponPivot" parent="." index="6"]

editor/display_folded = true
_sections_unfolded = [ "Transform" ]

[node name="StateMachine" type="Node" parent="." index="9"]

[node name="Idle" type="Node" parent="StateMachine" index="0"]

script = ExtResource( 4 )

[node name="Move" type="Node" parent="StateMachine" index="1"]

script = ExtResource( 5 )
MAX_WALK_SPEED = 200
MAX_RUN_SPEED = 350

[node name="Bump" type="Node" parent="StateMachine" index="2"]

script = ExtResource( 6 )

[node name="Jump" type="Node" parent="StateMachine" index="3"]

script = ExtResource( 7 )

[node name="Attack" type="Node" parent="StateMachine" index="4"]

script = ExtResource( 8 )

[node name="CastingFire" type="Node" parent="StateMachine" index="5"]

script = ExtResource( 9 )

[node name="Stagger" type="Node" parent="StateMachine" index="6"]

script = ExtResource( 10 )
knockback_force = 10.0

[node name="Die" type="Node" parent="StateMachine" index="7"]

script = ExtResource( 11 )

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_finished"]

[connection signal="tween_completed" from="Tween" to="StateMachine/Stagger" method="_on_Tween_tween_completed"]

[connection signal="timeout" from="FireballTimer" to="StateMachine/CastingFire" method="_on_FireballTimer_timeout"]


